{% extends "base.html" %}

{% load formatters %}

{% block title%}
        <h2>User Profile</h2>
{% endblock title%}

{% block body %}

<form action="{% url astakos.im.views.users_edit%}" method="post">
  <div class="clearfix">
    <label for="user-id">ID</label>
    <div class="input">
      <span class="uneditable-input" id="user-id">{{ user.id }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-uniq">Uniq</label>
    <div class="input">
        <span class="uneditable-input" id="user-uniq">{{ user.uniq }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-realname">Real Name</label>
    <div class="input">
      <input class="span4" id="user-realname" name="realname" value="{{ user.realname }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-admin">Admin</label>
    <div class="input">
      <ul class="inputs-list">
        <li>
          <label>
            <input type="checkbox" id="user-admin" name="admin"{% if user.is_admin %} checked{% endif %} disabled="disabled">
          </label>
        </li>
      </ul>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-affiliation">Affiliation</label>
    <div class="input">
      <input class="span4" id="user-affiliation" name="affiliation" value="{{ user.affiliation }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-state">State</label>
    <div class="input">
      <select class="medium" id="user-state" name="state" disabled="disabled">
        {% for state in states %}
        <option{% ifequal state user.state %} selected{% endifequal %}>{{ state }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-invitations">Invitations</label>
    <div class="input">
        <span class="uneditable-input" id="user-invitations">{{ user.invitations }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-quota">Quota</label>
    <div class="input">
      <div class="input-append">
        <input class="span2" id="user-quota" name="quota" value="{{ user.quota|GiB }}" type="text" readonly="readonly"/>
        <span class="add-on">GiB</span>
      </div>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-token">Token</label>
    <div class="input">
        <span class="uneditable-input" id="user-token">{{ user.auth_token }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="token-created">Token Created</label>
    <div class="input">
      <span class="uneditable-input" id="token-created">{{ user.auth_token_created }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="token-expires">Token Expires</label>
    <div class="input">
      <span class="uneditable-input" id="token-expires">{{ user.auth_token_expires }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-created">Created</label>
    <div class="input">
      <span class="uneditable-input" id="user-created">{{ user.created }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-updated">Updated</label>
    <div class="input">
      <span class="uneditable-input" id="user-updated">{{ user.updated }}</span>
    </div>
  </div>

  <div class="actions">
    <input type="hidden" name="next" value="{{ next }}">
    <input type="hidden" name="auth" value="{{ user.auth_token }}">
    <button type="submit" class="btn primary">Verify</button>
  </div>

</form>
{% endblock body %}
