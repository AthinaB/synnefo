{% extends "base.html" %}

{% load formatters %}

{% block body %}

<form action="{% url admin.views.users_modify user.id %}" method="post">
  <div class="clearfix">
    <label for="user-id">ID</label>
    <div class="input">
      <span class="uneditable-input" id="user-id">{{ user.id }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-uniq">Uniq</label>
    <div class="input">
      <input class="span4" id="user-uniq" name="uniq" value="{{ user.uniq }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-realname">Real Name</label>
    <div class="input">
      <input class="span4" id="user-realname" name="realname" value="{{ user.realname }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-admin">Admin</label>
    <div class="input">
      <ul class="inputs-list">
        <li>
          <label>
            <input type="checkbox" id="user-admin" name="admin"{% if user.is_admin %} checked{% endif %}>
          </label>
        </li>
      </ul>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-affiliation">Affiliation</label>
    <div class="input">
      <input class="span4" id="user-affiliation" name="affiliation" value="{{ user.affiliation }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-quota">Quota</label>
    <div class="input">
      <div class="input-append">
        <input class="span2" id="user-quota" name="quota" value="{{ user.quota|GiB }}" type="text" />
        <span class="add-on">GiB</span>
      </div>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-token">Token</label>
    <div class="input">
      <input class="span4" id="user-token" name="auth_token" value="{{ user.auth_token }}" type="text" />
    </div>
  </div>

  <div class="clearfix">
    <label for="token-created">Token Created</label>
    <div class="input">
      <span class="uneditable-input" id="token-created">{{ user.auth_token_created }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="token-expires">Token Expires</label>
    <div class="input">
      <input type="datetime" class="span4" id="token-expires" name="auth_token_expires" value="{{ user.auth_token_expires|isoformat }}" />
    </div>
  </div>

  <div class="clearfix">
    <label for="user-created">Created</label>
    <div class="input">
      <span class="uneditable-input" id="user-created">{{ user.created }}</span>
    </div>
  </div>

  <div class="clearfix">
    <label for="user-updated">Updated</label>
    <div class="input">
      <span class="uneditable-input" id="user-updated">{{ user.updated }}</span>
    </div>
  </div>

  <div class="actions">
    <button type="submit" class="btn primary">Save Changes</button>
    <button type="reset" class="btn">Reset</button>
        &nbsp;&nbsp;
    <a class="btn danger needs-confirm" href="{% url admin.views.users_delete user.id %}">Delete User</a>
  </div>

  <div class="alert-message block-message error">
    <p><strong>WARNING:</strong> Are you sure you want to delete this user?</p>
    <div class="alert-actions">
      <a class="btn danger" href="{% url admin.views.users_delete user.id %}">Delete</a>
      <a class="btn alert-close">Cancel</a>
    </div>
  </div>
</form>
{% endblock body %}
