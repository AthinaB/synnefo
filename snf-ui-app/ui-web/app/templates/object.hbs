<div class="wrap clearfix">

    <div class="loader">{{fa-icon "fa-refresh fa-pulse"}}</div>

    <div class="col name-col">
        {{#if new}}<span class="label alert">new</span>{{/if}}
        {{#if is_dir}}
            {{#link-to 'objects' encoded_name}}
                {{fa-icon view.iconCls}}
                <span class="js-name">
                    {{stripped_name}}
               </span>
            {{/link-to}}
        {{else}}
            {{#if view.previewSupported}}
                {{#if isImg}}
                    {{#light-box href=view_src data-lightbox="g-1" data-title=stripped_name inlineImage=false}}
                    {{fa-icon "fa-image"}}
                    {{/light-box}}
                {{/if}}
            {{else}}
                {{fa-icon view.iconCls}}
            {{/if}}
            <span class="js-name hint--bottom" {{bind-attr data-hint=stripped_name}}>
                <span>
                    {{stripped_name_no_ext}}
                    {{#if has_ext}}
                        <em>.{{extension}}</em>
                    {{/if}}
     
                </span>
            </span>
        {{/if}}
        <form {{action 'reset' 'validateRename,renameObject' target=view on="submit"}}>
            {{view "input-single" value=stripped_name placeholder=stripped_name cls="hidden" oldValue=stripped_name}}
            <a  class="hidden js-hide-edit icon-a" {{action 'reset' 'validateRename,renameObject' target=view}} title="Rename">{{fa-icon "fa-check fa-fw"}}</a>
            <a class="js-cancel js-hide-edit hidden icon-a" title="Cancel" {{action 'reset' target=view}}>{{fa-icon "fa-times fa-fw"}}</a>
        </form>

        <a class="js-show-edit icon-a" title="Rename">{{fa-icon "fa-pencil fa-fw"}}</a>
            {{#if public_link}}
                <span class="right">
                {{#tooltip-hint title="Public link"}}
                    <a {{bind-attr href=public_link}} target="_blank">{{fa-icon "fa-link"}}</a>
                {{/tooltip-hint}}
                </span>
            {{/if}}
 

    </div>
    {{#if gridView}}
        <dl>    
            <dt>Type</dt>
            <dd>
                {{#tooltip-hint title=extension}}
                    {{type}}
                {{/tooltip-hint}}
            </dd>
            <dt>Size</dt>
            <dd>{{convert-bytes bytes}}</dd>
            <dt>Modified</dt>
            <dd>
                {{#tooltip-hint title=last_modified_human}}
                    {{time-from-now last_modified }} <span class="subtle">{{modified-by current_user.email modified_by.email}}</span>
                {{/tooltip-hint}}
            </dd>
        </dl>
    {{/if}}
    <div class="col select-col">
        {{#if sharing}}
            <span class="hint--bottom" data-hint="Privately shared">
                {{fa-icon "fa-user"}}
            </span>
        {{/if}}

       {{#unless trash}}
            <a {{action 'showDialog' 'sharing' 'object/sharing' this}} class="icon-btn">Share</a>
        {{/unless}}
        {{#if trash}}
            <a {{action 'showDialog' 'restore' 'object/restore' this}} class="icon-btn">Restore</a>
        {{/if}}
    </div>
    {{#if listView}}
       <div class="col data-col">
            {{convert-bytes bytes}}
        </div>

       <div class="col date-col">
                {{#tooltip-hint title=last_modified_human}}
                    {{time-from-now last_modified }} <span class="subtle">{{modified-by current_user.email modified_by.email}}</span>
                {{/tooltip-hint}}
        </div>
        <div class="col data-col">
            {{#tooltip-hint title=extension}}
                {{type}}
            {{/tooltip-hint}}
        </div>
    {{/if}}
    <div class="col actions-col">
        {{#if is_dir}}
            &nbsp;
        {{else}}
            {{#tooltip-hint title="Download"}}
                <a {{bind-attr href=view_src}} target="_blank" class="icon-btn">{{fa-icon "fa-download fa-fw"}}</a>
            {{/tooltip-hint}}
        {{/if}}
        <a {{action 'showDialog' 'confirm-simple' this.controller this 'deleteObject'}} title="Permanently delete object" class="icon-a">{{fa-icon "fa-remove fa-fw"}}</a>
        {{#unless trash}}
            <a {{action 'moveToTrash'}} title="move item to trash" class="icon-a">{{fa-icon "fa-trash fa-fw"}}</a>
        {{/unless}}
        <a {{action 'cutObject'}} title="cut Item" class="icon-a">{{fa-icon "fa-cut fa-fw"}}</a>
        <a {{action 'copyObject'}} title="copy Item" class="icon-a">{{fa-icon "fa-copy fa-fw"}}</a>
        {{#unless is_dir}}
            <a {{action 'showDialog' 'versions' 'object/versions' this}} class="icon-a" title="Manage object versions">{{fa-icon "fa-database fa-fw"}}</a>
        {{/unless}}
    </div>

</div>


